<% provide(:title, "#{@user.name} / #{@title}") %>
<section class="user_info">
  <%= render 'shared/user_info' %>
  <span><%= link_to "view my profile", @user %></span>
</section>
<h3>いいねしている投稿</h3>

<% if @user.liked_posts.any? %>
  <span><b>いいねした投稿の数:</b> <%= @user.liked_posts.count %></span>
  <div class="feed jscroll" >
    <div class="micropost jscroll" >
      <ol class="microposts">
        <%= render @microposts %>
      </ol>
      <%= paginate @microposts %>
    </div>
  </div>
<% end %>

<script>
  $(window).on('scroll', function() {
      scrollHeight = $(document).height();
      scrollPosition = $(window).height() + $(window).scrollTop();
      if ( (scrollHeight - scrollPosition) / scrollHeight <= 0.05) {
            $('.jscroll').jscroll({
              contentSelector: '.micropost',
              nextSelector: 'span.next:last a'
            });
      }
  });
</script>